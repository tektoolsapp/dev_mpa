{% extends 'templates/app.twig' %}

{% block content %}

    {#{campaigns |json_encode }#}

    <div class="mt-3">
        <h1>Email List</h1></h1>
        <ul style="padding: 0;list-style: none;">
            <li><a href="{{ path_for('email.recipient.new') }}">New Recipient</a></li>
        </ul>
    </div>

    <table class="table table-bordered table-striped">
        <thead>
        <tr>
            <th style="width: 5%">ID</th>
            <th style="width: 25%">Name</th>
            <th style="width: 50%">Email Address</th>
            <th style="width: 20%">Actions</th>
        </tr>
        </thead>
        <tbody>

        {% for key, value in campaigns.campaigns %}
            <tr>
                <td>{{ value.id }}</td>
                <td>{{ value.merge_fields.FNAME }} {{ value.merge_fields.LNAME }}</td>
                <td>{{ value.email_address }}</td>
                <td><a href="{{ path_for('email.campaign.content', {'id': value.id}) }}" target="_blank">content</a>
                </td>
            </tr>
        {% endfor %}

        </tbody>
    </table>

{% endblock %}